#### [分布式事务有这一篇就够了](https://www.cnblogs.com/dyzcs/p/13780668.html)

讲了事务 本地事务 具体例子

举了例子张三李四转账

情景分析（2个AP对应两个数据库，单AP对应两个数据库和2个AP对应单数据库）

基础理论 CAP原则 但举的例子是单程序对读写库的 感觉文不对题

##### 解决方案

1. 2pc方案
2. 基于2pc的XA
3. Seata方案（非XA标准的2pc 所有分支事务组合成全局事务 但Seata是应用层增强）
4. TCC（空回滚 幂等 防悬挂）



##### 可靠消息最终一致性

通过MQ进行通信发起事务（事务和消息发送原子性问题 通过消息表和发送幂等/仅一次等手段确保参与方成功）



##### 最大努力通知

利用MQ的ack机制 发起通知方尽可能的通知到接收通知方 因此需要额外设计 `重复通知` 和 `消息校对` 机制 感觉上就和分布式事务关系不太大了 是个比较泛的手段？



[分布式事务的四种解决方案](https://www.cnblogs.com/mayundalao/p/11798502.html)

没有铺垫 直接讲解决方案

2pc

tcc

本地消息表

mq事务消息（只有RocketMQ支持）



[面试必问：分布式事务六种解决方案](https://zhuanlan.zhihu.com/p/183753774)



#### 课程视频笔记

在MySQL5.6的XA 进入了prepare状态的记录如果中途发生错误例如网络抖动带来的重连 XA事务无法recover（实际上不需要执行recover 断开连接能直接重连并commit 似乎可以不同客户端？不同IP能不能呢？）



